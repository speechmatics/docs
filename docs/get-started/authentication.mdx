---
toc_max_heading_level: 4
description: 'Learn about how the Speechmatics API handles authentication'
keywords: [batch, file, transcription, speech recognition, asr, api, jwt, realtime, websocket, temporary key, generate_temp_token]
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Authentication 

Your API key must be used with any interaction with the Speechmatics API to authenticate to the service. Any interaction without this key will receive a `HTTP 401 - Unauthorized` response.

It is recommended that you store and provide access to the API key on the principle of least privilege. If you believe that your key has been compromised, please reach out to [Support](https://support.speechmatics.com).

## Create an API key

To create an API key, first navigate to the [Portal](https://portal.speechmatics.com) and sign in or create an account, if you don't have one already.
Then, navigate to [Settings > API Keys](https://portal.speechmatics.com/settings/api-keys/) page to create an API key.

Enter a name for your API key and then store it somewhere safe when you have generated it.

## Authenticating

<Tabs groupId="auth-by-transcription-type">
  <TabItem value="batch" label="Batch transcription" default>

Your API key needs to be included in the header of all requests to the Speechmatics Jobs API. For example:

```bash
curl -X GET "https://eu1.asr.api.speechmatics.com/v2/jobs/" \
  -H "Authorization: Bearer $API_KEY"
```

  </TabItem>
  <TabItem value="real-time" label="Realtime transcription" default>

Realtime transcription connects via WebSocket. There are two ways to authenticate, depending on where your code runs:

#### Server-side: API key in the Authorization header

For server-side applications, you can use your API key directly. Include it in the `Authorization` header of the WebSocket upgrade request:

```bash
GET /v2/ HTTP/1.1
Host: eu.rt.speechmatics.com
Upgrade: websocket
Connection: Upgrade
Authorization: Bearer YOUR_API_KEY
User-Agent: Python/3.8 websockets/8.1
```

This is the simplest approach when your API key is not exposed to end users. The Python SDK uses this method by default:

```python
ws = speechmatics.client.WebsocketClient(
    speechmatics.models.ConnectionSettings(
        url="wss://eu2.rt.speechmatics.com/v2",
        auth_token="YOUR_API_KEY",
    )
)
```

#### Client-side (browser): temporary key as a query parameter

For client-side applications running in the browser, you must use a [temporary key](#temporary-keys) (JWT). Browsers cannot set custom headers on WebSocket connections, and temporary keys avoid exposing your long-lived API key to end users.

Pass the temporary key as a query parameter on the WebSocket URL:

```bash
wss://eu.rt.speechmatics.com/v2?jwt=$TEMP_KEY
```

See the [temporary keys](#temporary-keys) section below for how to generate one.

The JavaScript SDK requires a temporary key. Use the [`@speechmatics/auth`](https://www.npmjs.com/package/@speechmatics/auth) package to generate one:

```javascript
import { createSpeechmaticsJWT } from "@speechmatics/auth";

const jwt = await createSpeechmaticsJWT({
  type: "rt",
  apiKey: "YOUR_API_KEY",
  ttl: 60, // seconds
});
```

:::info
The `@speechmatics/auth` package calls the temporary key endpoint on your behalf. In production, generate temporary keys on your backend server to avoid exposing your API key in client-side code.
:::

#### Python SDK: automatic temporary key generation

The Python SDK can also automatically generate a temporary key before connecting. Set `generate_temp_token=True` in `ConnectionSettings`:

```python
ws = speechmatics.client.WebsocketClient(
    speechmatics.models.ConnectionSettings(
        url="wss://eu2.rt.speechmatics.com/v2",
        auth_token="YOUR_API_KEY",
        generate_temp_token=True,
    )
)
```

When enabled, the SDK exchanges your API key for a short-lived temporary key (60-second TTL) via the management platform API before opening the WebSocket connection. This is useful if you want to avoid sending your long-lived API key over the WebSocket connection.

:::info
Enterprise customers should set `generate_temp_token` to `False` and use their API key directly.
:::

  </TabItem>
</Tabs>


## Supported endpoints

All production endpoints are active and highly available. You can use multiple regions to balance requests or provide a failover in the event of disruption to one region.

:::info
If you are an enterprise customer and would like to use a different region than the one specified in your contract, please contact your account manager or [support](https://support.speechmatics.com).
:::

<Tabs groupId="Supported-endpoints">
  <TabItem value="batch" label="Batch SaaS">

Speechmatics Batch SaaS supports the following endpoints for production use:

| Customer type | Region          | Endpoint                         |
| ------------- | --------------- | -------------------------------- |
| All           | EU1 (Europe)    | **eu1.asr.api.speechmatics.com** |
| Enterprise    | EU2 (Europe)    | **eu2.asr.api.speechmatics.com** |
| All           | US1 (USA)       | **us1.asr.api.speechmatics.com** |
| Enterprise    | US2 (USA)       | **us2.asr.api.speechmatics.com** |
| All           | AU1 (Australia) | **au1.asr.api.speechmatics.com** |

Jobs are created in the region corresponding to the endpoint used. You must use the same endpoint for all requests relating to a specific job.

:::warning
The EU2 and US2 Batch SaaS endpoints are provided for enterprise customer high availability and failover purposes only. Jobs created in these environments will not be visible in the Portal.
:::
  </TabItem>
  <TabItem value="realtime" label="Realtime SaaS">


Speechmatics Realtime SaaS supports the following endpoints for production use:

| Customer type | Region       | Endpoint               |
| ------------- | ------------ | ---------------------- |
| All           | EU1 (Europe) | eu.rt.speechmatics.com |
| All           | US1 (USA)    | us.rt.speechmatics.com |
  </TabItem>
</Tabs>

## Temporary keys

Speechmatics allows you to generate temporary keys to authenticate your requests instead of your long-lived API key. This can improve end-user experience by reducing latency, and can also reduce development effort and complexity.

:::info
If you are an enterprise customer and would like to use temporary keys, reach out to [support](https://support.speechmatics.com) or speak to your account manager.
:::
<Tabs groupId="temp-key-by-transcription-types">
<TabItem value="batch" label="Batch transcription">

For Batch jobs, using temporary keys allows your end-users to upload their audio to Speechmatics directly, without exposing your long-lived API key. 
This approach can reduce development effort, storage and bandwidth costs.

When you generate a temporary key with a `client_ref`, that temporary key will only be able to create and retrieve jobs associated with that `client_ref`. 

`client_ref` should be a `string` that uniquely identifies an end-user.
:::info
Note that temporary keys generated with a `client_ref` can't access the [Usage Batch API endpoint](/api-ref/batch/get-usage-statistics) and will receive a `HTTP 403 - Forbidden`.
:::

:::warning
If your Batch temporary key will be exposed to end-users, for example in the browser, then you must use the `client_ref` parameter. This will prevent one user from viewing or deleting the jobs of another user.
:::

The example request below creates a temporary key which can be used to create and retrieve Batch jobs for 60 seconds. These jobs will be associated with the reference 'USER123':

```bash
curl -L -X POST "https://mp.speechmatics.com/v1/api_keys?type=batch" \
     -H "Content-Type: application/json" \
     -H "Authorization: Bearer $API_KEY" \
     -d '{"ttl": 60, "client_ref": "USER123"}'
```

The response JSON looks like this:

```json
{
  "apikey_id": null,
  "key_value": "eyJhbG..."
}
```

To authorize a request using a temporary key, simply use it in place of the API key in the authorization header.

For example, if you created a temporary key associated with a given `client_ref` you can retrieve those jobs as follows:

```bash
curl -X GET "https://eu1.asr.api.speechmatics.com/v2/jobs/" \
  -H "Authorization: Bearer $TEMP_KEY"
```
  </TabItem>
  <TabItem value="realtime" label="Realtime transcription">

For Realtime transcription, temporary keys allow the end-user to start a websocket connection with Speechmatics directly, without exposing your long-lived API key. This will reduce the latency of transcription, as well as development effort.

The example request below will create a temporary key which can be used to start any number of Realtime transcription sessions for 60 seconds:

```bash
curl -L -X POST "https://mp.speechmatics.com/v1/api_keys?type=rt" \
     -H "Content-Type: application/json" \
     -H "Authorization: Bearer $API_KEY" \
     -d '{"ttl": 60}'
```

The response JSON looks like this:

```json
{
  "apikey_id": null,
  "key_value": "eyJhbG..."
}
```

To use this temporary key, either include it in the `Authorization` header (server-side):

```bash
Authorization: Bearer $TEMP_KEY
```

Or pass it as a query parameter on the WebSocket URL (required for browser-based clients):

```bash
wss://eu.rt.speechmatics.com/v2?jwt=$TEMP_KEY
```

:::info
When starting a Realtime transcription session in the browser, you must provide the temporary key as a query parameter because browsers cannot set custom headers on WebSocket connections. See our documentation on [browser based transcription](/api-ref/realtime-transcription-websocket#browser-based-transcription).
:::

:::tip
The SDKs can handle temporary key generation for you automatically. See the [Authenticating](#authenticating) section above for SDK-specific examples.
:::
</TabItem>
</Tabs>

### Temporary key configuration


| URL query parameter    | Required | Description                                                                                                                                                                                                                                                                                                                                                      |
|------------------------|----------|-----------------------------------------------------------
| `type`                 | No       | String: `batch` (default), `rt`. Whether the token should be able to use the Batch or Realtime API.                                                                                                                                                                                                                                                                                                     |



| Request Body Parameters    | Required | Description                                                                                                                                                                                                                                                                                                                                                      |
|--------------|-----------|-----------------------------------------------------------
| `ttl`        | Yes            | Integer: 60-86400. The temporary key's time to live in seconds. **Note** We suggest using the shortest TTL possible to minimise security risks.
| `client_ref` | No             | String. When provided, `batch` tokens can only create and retrieve jobs with that reference; without it, they can access any job. **Must** be set when temporary keys are exposed to end-users to prevent accessing another user's data. `client_ref` is ignored when requesting `rt` tokens.
| `region`     | No             | String: `eu` (default), `usa`, or `au` (Batch transcription only). Defines the region where the temporary key is valid.


## Next steps

Get started with the API by trying out the ["Hello World"](https://github.com/speechmatics/speechmatics-academy/tree/main/basics/01-hello-world) example in the [Speechmatics Academy](https://github.com/speechmatics/speechmatics-academy/tree/main/basics/01-hello-world).

