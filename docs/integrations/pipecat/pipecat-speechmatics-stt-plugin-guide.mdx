---
id: integrations-pipecat-speechmatics-stt-plugin-guide
description: How to integrate Speechmatics STT with Pipecat for real-time speech transcription.
---

## Getting started

### Requirements
- Python 3.10 or later
- uv package manager installed
- Pipecat >= 1.2
- Speechmatics Account (https://portal.speechmatics.com)

### Installation

Install the SpeechmaticsSTTService from PyPl:

```bash
pip install "pipecat-ai[speechmatics]"
```

### Authentication

The SpeechmaticsSTTService requires an API key. 
You can generate your API key in the [Speechmatics Portal](https://portal.speechmatics.com/settings/api-keys).

### Required environment variable:

```bash
export SPEECHMATICS_API_KEY=your_api_key
```

### Usage

```python
import os
import asyncio
from pipecat.services.speechmatics import SpeechmaticsSTTService
from pipecat.language_configs.language import Language

async def main():
    # Initialize Speechmatics STT
    stt = SpeechmaticsSTTService(
        api_key=os.getenv("SPEECHMATICS_API_KEY"),
        params=SpeechmaticsSTTService.InputParams(
            language=Language.EN,
            enable_diarization=True
        )
    )

    # Example audio processing
    async def process_audio():
        # In a real app, this would be your audio stream
        # For demo, we'll simulate a simple audio source
        audio_chunks = [b"fake_audio_chunk_1", b"fake_audio_chunk_2"]
        
        async for transcript in stt.transcribe(audio_chunks):
            speaker = f"Speaker {transcript.speaker}" if transcript.speaker else "Unknown"
            print(f"{speaker}: {transcript.text}")

    await process_audio()

if __name__ == "__main__":
    asyncio.run(main())
```
